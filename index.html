---
layout: default
---
<!DOCTYPE html>
<!--[if lt IE 7]>      <html class="no-js lt-ie9 lt-ie8 lt-ie7"> <![endif]-->
<!--[if IE 7]>         <html class="no-js lt-ie9 lt-ie8"> <![endif]-->
<!--[if IE 8]>         <html class="no-js lt-ie9"> <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js"> <!--<![endif]-->
    <head>
        <meta charset="utf-8">
        <meta http-equiv="X-UA-Compatible" content="IE=edge">
        <title></title>
        <meta name="description" content="">
        <meta name="viewport" content="width=device-width, initial-scale=1">
        <!-- Place favicon.ico and apple-touch-icon.png in the root directory -->
        <link rel="stylesheet" href="{{site.url}}css/styles.css">
        <script src="{{site.url}}js/modernizr.js"></script>
    </head>
    <body class="">
        <!--[if lt IE 7]>
            <p class="browsehappy">You are using an <strong>outdated</strong> browser. Please <a href="http://browsehappy.com/">upgrade your browser</a> to improve your experience.</p>
        <![endif]-->
        <div class="jayz">            

            <div class="grid editting">

                <div class="grid__item -left">

                    <form id="open_page" class="form" onsubmit="javascript:return false;">
                        <input id="label" class="input main" type="text" value="" placeholder="type a page name" />
                    </form>
                    
                     <div id="content" class="edit_pane"></div>

                     <div id="controls" class="controls">
                        <p>
                            <a href="#" class="button" id="add_link"><span class="icon icon-chain"></span> add link</a>
                            <a href="#" class="button" id="view_page"><span class="icon icon-eye"></span> view page</a>
                            <a href="#" class="button" id="delete_page"><span class="icon icon-times"></span> delete</a>
                        </p>
                        <p class="notes">
                            CMD + L = create a new link<br />
                            CMD + K = back to search box<br /><br />
                            Search for "?" to see all pages.<br />
                        </p>
                     </div>

                </div><div class="grid__item -right">

                    <div id="preview" class="content_output"></div>                   

                </div>

            </div><!-- .grid -->
        </div><!-- .jayz -->

        <div class="overlay">
                <div class="new_page">
                    <form id="new_page__form" class="form" onsubmit="javascript:return false;">
                        <p>Link to:</p>
                        <input id="new_page__name" class="input" type="text" value="" placeholder="name of page" />
                    </form>
                </div>
        </div>
        
        <script src="{{site.url}}js/all.min.js"></script>
        <script src="{{site.url}}js/page_edit_view.backbone.js"></script>
        <script src="{{site.url}}js/autocomplete.backbone.js"></script>
        <script src="{{site.url}}js/pages.mc.backbone.js"></script>
        <script src="{{site.url}}js/editor_view.backbone.js"></script>
        <script src="{{site.url}}js/controls.js"></script>

        <script type="text/javascript">

        var SITEURL = "{{site.url}}";

        // localStorage.clear();

        var the_pages = new Pages();
        the_pages.fetch();

        var page_editor = new EditorView({model:the_pages});
        
        /*
            Try and give #label focus as soon as things are ready.
        */        
        $(document).on("ready",function(e) {$('#label').focus();});
        
        /*
            Control a few bits based on whether the #label input has focus.
        */        
        $('#label').on("focus",function() {
            $('#controls').fadeOut();
            $('#content').fadeOut();
            $('#preview').fadeOut();
            $(this).addClass('active');
        });
        $('#label').on("blur",function()
        {           
            $('#content').fadeIn();
            $(this).removeClass('active');
        });

        /*
            Hide a few things to start with.
        */        
        $('.overlay').hide();
        $('#preview').hide();
        $('#controls').hide();

        </script>

        <!-- Google Analytics: change UA-XXXXX-X to be your site's ID.
        <script>
            (function(b,o,i,l,e,r){b.GoogleAnalyticsObject=l;b[l]||(b[l]=
            function(){(b[l].q=b[l].q||[]).push(arguments)});b[l].l=+new Date;
            e=o.createElement(i);r=o.getElementsByTagName(i)[0];
            e.src='//www.google-analytics.com/analytics.js';
            r.parentNode.insertBefore(e,r)}(window,document,'script','ga'));
            ga('create','UA-XXXXX-X');ga('send','pageview');
        </script>
        <!-- -->

        {% if site.state == "local" %}
        <script src="http://localhost:35729/livereload.js?snipver=1"></script>
        {% endif %}
    </body>
</html>
